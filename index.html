<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a1a2e">
    <title>With Your Morning Coffee</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-text" id="background-text"></div>
    <script>
        // Generate many lines of "RUN TOWARDS THE DANGER" to fill the background
        const bgContainer = document.getElementById('background-text');
        const phrase = 'RUN TOWARDS THE DANGER  ‚Ä¢  ';
        const repeatedPhrase = phrase.repeat(30);
        for (let i = 0; i < 80; i++) {
            const line = document.createElement('div');
            line.className = 'background-text-line';
            line.textContent = repeatedPhrase;
            line.style.animationDuration = (60 + Math.random() * 40) + 's';
            line.style.animationDelay = -(Math.random() * 60) + 's';
            bgContainer.appendChild(line);
        }
    </script>

    <!-- Bible Quote Sidebar -->
    <div class="bible-quote-box" id="bible-quote-box">
        <div class="bible-quote-header">
            <span class="bible-icon">‚ú°Ô∏è</span>
            <span>Daily Scripture</span>
        </div>
        <blockquote class="bible-quote-text" id="bible-quote-text">Loading...</blockquote>
        <cite class="bible-quote-reference" id="bible-quote-reference"></cite>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal-overlay" id="auth-modal">
        <div class="auth-modal">
            <button class="auth-close-btn" id="auth-close">√ó</button>
            <div class="auth-header">
                <h2 id="auth-title">Welcome Back</h2>
                <p id="auth-subtitle">Sign in to your account</p>
            </div>
            <form class="auth-form" id="auth-form">
                <div class="auth-input-group" id="name-group" style="display: none;">
                    <label for="auth-name">Full Name</label>
                    <input type="text" id="auth-name" placeholder="Your name">
                </div>
                <div class="auth-input-group">
                    <label for="auth-email">Email</label>
                    <input type="email" id="auth-email" placeholder="you@example.com" required autocomplete="email">
                </div>
                <div class="auth-input-group">
                    <label for="auth-password">Password</label>
                    <input type="password" id="auth-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required autocomplete="current-password">
                </div>
                <div class="auth-checkbox-group">
                    <label class="auth-checkbox">
                        <input type="checkbox" id="auth-remember" checked>
                        <span class="checkmark"></span>
                        <span>Stay signed in</span>
                    </label>
                </div>
                <button type="submit" class="auth-submit-btn" id="auth-submit">Sign In</button>
                <div class="auth-error" id="auth-error"></div>
            </form>
            <div class="auth-switch">
                <span id="auth-switch-text">Don't have an account?</span>
                <button id="auth-switch-btn">Sign Up</button>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="profile-modal-overlay" id="profile-modal">
        <div class="profile-modal">
            <button class="auth-close-btn" id="profile-close">√ó</button>
            <div class="profile-header">
                <h2>Your Profile</h2>
                <p>Customize your experience</p>
            </div>
            
            <div class="profile-content">
                <!-- Profile Picture Section -->
                <div class="profile-picture-section">
                    <div class="profile-picture-wrapper">
                        <div class="profile-picture" id="profile-picture">
                            <span id="profile-initial">?</span>
                            <img id="profile-image" src="" alt="Profile" style="display: none;">
                        </div>
                        <label class="profile-picture-upload" for="profile-picture-input">
                            <span>üì∑</span>
                        </label>
                        <input type="file" id="profile-picture-input" accept="image/*" hidden>
                    </div>
                    <p class="profile-picture-hint">Click to upload a photo</p>
                </div>

                <!-- Profile Form -->
                <form class="profile-form" id="profile-form">
                    <div class="profile-input-group">
                        <label for="profile-name">Display Name</label>
                        <input type="text" id="profile-name" placeholder="Your name">
                    </div>
                    
                    <div class="profile-input-group">
                        <label for="profile-email">Email</label>
                        <input type="email" id="profile-email" disabled>
                    </div>

                    <div class="profile-input-group">
                        <label for="profile-bio">Bio</label>
                        <textarea id="profile-bio" placeholder="Tell us about yourself..." rows="3"></textarea>
                    </div>

                    <div class="profile-input-group">
                        <label for="profile-goal">Daily Goal / Motivation</label>
                        <input type="text" id="profile-goal" placeholder="What drives you?">
                    </div>

                    <div class="profile-section-title">Preferences</div>
                    
                    <div class="profile-toggle-group">
                        <label class="profile-toggle">
                            <span>üîî Daily Reminder Emails</span>
                            <input type="checkbox" id="pref-reminders">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="profile-toggle-group">
                        <label class="profile-toggle">
                            <span>üåÖ Morning Mode (show greeting)</span>
                            <input type="checkbox" id="pref-greeting" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="profile-toggle-group">
                        <label class="profile-toggle">
                            <span>üìñ Show Bible Quote</span>
                            <input type="checkbox" id="pref-bible-quote" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="profile-section-title">Stats</div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="stat-streak">0</div>
                            <div class="profile-stat-label">Current Streak</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="stat-total-days">0</div>
                            <div class="profile-stat-label">Total Days</div>
                        </div>
                        <div class="profile-stat">
                            <div class="profile-stat-value" id="stat-longest">0</div>
                            <div class="profile-stat-label">Longest Streak</div>
                        </div>
                    </div>

                    <div class="profile-section-title">Member Since</div>
                    <p class="profile-member-since" id="profile-member-since">-</p>

                    <button type="submit" class="profile-save-btn">Save Changes</button>
                    <div class="profile-success hidden" id="profile-success">‚úì Profile saved!</div>
                </form>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-top">
                <div class="logo">‚òï</div>
                <div class="user-menu" id="user-menu">
                    <button class="auth-btn" id="sign-in-btn">Sign In</button>
                </div>
            </div>
            <h1>With Your Morning Coffee</h1>
            <p class="tagline">Fuel your mind. Start strong.</p>
            <p class="user-greeting hidden" id="user-greeting"></p>
            <div class="date-navigation">
                <button id="prev-day" class="nav-btn">‚Üê</button>
                <div class="date" id="current-date"></div>
                <button id="next-day" class="nav-btn">‚Üí</button>
            </div>
        </header>

        <section class="quote-section">
            <div class="quote-container">
                <blockquote id="daily-quote" class="quote-text"></blockquote>
                <cite id="quote-author" class="quote-author"></cite>
            </div>
        </section>

        <section class="word-section">
            <div class="section-header">
                <span class="section-icon">üìö</span>
                <h2>Word of the Day</h2>
            </div>
            <div class="word-container">
                <div class="word-title" id="word-title">Loading...</div>
                <div class="word-part-of-speech" id="word-part-of-speech"></div>
                <div class="word-guess-container">
                    <label for="word-guess">Take a guess...</label>
                    <textarea id="word-guess" placeholder="What do you think it means?" rows="2"></textarea>
                    <button id="reveal-definition" class="reveal-btn">Reveal</button>
                </div>
                <div class="word-definition hidden" id="word-definition"></div>
            </div>
        </section>

        <div class="learning-grid">
            <section class="learning-section history">
                <div class="section-header">
                    <span class="section-icon">üèõÔ∏è</span>
                    <h2>History</h2>
                </div>
                <div class="learning-container">
                    <div class="learning-title" id="history-title">Loading...</div>
                    <div class="learning-content" id="history-content"></div>
                    <div class="learning-source" id="history-source"></div>
                </div>
            </section>

            <section class="learning-section religion">
                <div class="section-header">
                    <span class="section-icon">‚ú®</span>
                    <h2>Faith</h2>
                </div>
                <div class="learning-container">
                    <div class="learning-title" id="religion-title">Loading...</div>
                    <div class="learning-content" id="religion-content"></div>
                    <div class="learning-source" id="religion-source"></div>
                </div>
            </section>

            <section class="learning-section economics">
                <div class="section-header">
                    <span class="section-icon">üí∞</span>
                    <h2>Economics</h2>
                </div>
                <div class="learning-container">
                    <div class="learning-title" id="economics-title">Loading...</div>
                    <div class="learning-content" id="economics-content"></div>
                    <div class="learning-source" id="economics-source"></div>
                </div>
            </section>
        </div>

        <section class="todo-section">
            <div class="section-header">
                <span class="section-icon">üéØ</span>
                <h2>Today's Missions</h2>
            </div>
            <ul class="todo-list" id="todo-list">
                <li class="todo-item">
                    <input type="checkbox" id="task-bible" class="task-checkbox">
                    <label for="task-bible"><span class="task-emoji">üìñ</span> 30 min of Bible reading</label>
                </li>
                <li class="todo-item">
                    <input type="checkbox" id="task-book" class="task-checkbox">
                    <label for="task-book"><span class="task-emoji">üìö</span> 30 min of current book</label>
                </li>
                <li class="todo-item">
                    <input type="checkbox" id="task-hillsdale" class="task-checkbox">
                    <label for="task-hillsdale"><span class="task-emoji">üéì</span> 30 min Hillsdale course</label>
                </li>
                <li class="todo-item">
                    <input type="checkbox" id="task-ai" class="task-checkbox">
                    <label for="task-ai"><span class="task-emoji">ü§ñ</span> Learn AI concept</label>
                </li>
                <li class="todo-item">
                    <input type="checkbox" id="task-word" class="task-checkbox">
                    <label for="task-word"><span class="task-emoji">üìù</span> Review word of the day</label>
                </li>
            </ul>
        </section>

        <section class="streak-section">
            <div class="streak-container">
                <div class="streak-flame">üî•</div>
                <div class="streak-number" id="streak-number">0</div>
                <div class="streak-label">day streak</div>
                <div class="streak-info" id="streak-info"></div>
            </div>
        </section>

        <footer>
            <p>Start your day with wisdom and purpose.</p>
        </footer>
    </div>

    <script type="module" src="/script.js"></script>
</body>
</html>
